# Описание системы
Перечень процессов (под-процессов и функций), автоматизируемых Цифровым сервисом (описание действий пользователей, модель процессов);
Перечень обеспечивающих функций, необходимых для Цифрового сервиса;
Оглавление
Структура системы	2
1.1.	Клиентское приложение	2
1.2.	Серверная платформа	3
1.3.	Сервисные службы	3
1.3.1.	Служба синхронизации	3
1.3.2.	Ночные процедуры	4
2.	Функциональность системы	4
2.1.	Пользователи и подключения	4
2.2.	Отключение от сервиса и от системы	4
2.2.1.	Отключение от сервиса	4
2.2.2.	Отключение от системы	4
2.3.	Операции в системе (Перечень процессов, под-процессов и функций)	5
2.3.1.	Операция Продажа	5
2.3.2.	Операции покупки	7
2.3.3.	Возвраты	8
2.3.4.	Инвентаризация	8
2.3.5.	Работа с клиентами (CRM)	9
2.3.5.1.	Сообщить о задолженности.	9
2.3.5.2.	Сообщить об акции	9
2.3.5.3.	Интеграция с телефонной книгой	9

 
***
**ВАЖНО!!!** ДАННОЕ ОПИСАНИЕ БАЗИРУЕТСЯ НА ТЕКУЩЕЙ РЕАЛИЗАЦИИ СИСТЕМЫ, КАК В ЧАСТИ ФУНКЦИОНАЛЬНОСТИ, ТАК И ВНЕШНЕГО ВИДА, СХЕМ И ПРАВИЛ УЧЕТА, СПОСОБОВ ХРАНЕНИЯ И ПРЕДОСТАВЛЕНИЯ ИНФОРМАЦИИ. КОНЕЧНОМУ ПОЛЬЗОВАТЕЛЮ ПРЕДОСТАВЛЯЕТСЯ ОГРАНИЧЕННОЕ ПО ВРЕМЕНИ ПРАВО ИСПОЛЬЗОВАТЬ ПРОГРАММНЫЙ ПРОДУКТ В ТЕКУЩЕЙ КОНФИГУРАЦИИ (СОСТАВЕ, ВЕРСИИ), НА УСЛОВИЯХ КАК ЕСТЬ «AS IS».  ТОО «PRIMEBRIDGE» НЕ БЕРЕТ НА СЕБЯ ОБЯЗАТЕЛЬСТВ ПО ВЫПУСКУ НОВЫХ ВЕРСИЙ ПРОГРАММНОГО ПРОДУКТА И/ИЛИ РАСШИРЕНИЮ ФУНКЦИОНАЛА.

**ТОО «PRIMEBRIDGE» НА СВОЕ УСМОТРЕНИЕ, В ЛЮБОЙ МОМЕНТ ВРЕМЕНИ, ИМЕЕТ ПРАВО БЕЗ СОГЛАСОВАНИЯ С КОНЕЧНЫМ ПОЛЬЗОВАТЕЛЕМ,  ИЗМЕНИТЬ ЛЮБУЮ ЧАСТЬ/ ФУНКЦИОНАЛ/ СПОСОБЫ/ ВИД/ СЕРВИСЫ ПРОГРАММНОГО ПРОДУКТА, РАСШИРЯТЬ И ДОРАБАТЫВАТЬ ПРОГРАММНЫЙ ПРОДУКТ, ПРОВОДИТЬ ОБНОВЛЕНИЯ И РАСШИРЕНИЯ ФУНКЦИОНАЛЬНОСТИ ПРОГРАММНОГО ПРОДУКТА.**
***

# Структура системы

Программный комплекс «DSS Я Хозяин!» (далее Система) реализован на платформе «Distribution Support System (DSS)» (программа для ЭВМ, зарегистрирован в Министерстве Юстиции Республики Казахстан за №1573 от 28 июня 2017 года). Система представляет собой многокомпонентный комплекс, реализованный в виде Android приложения на стороне клиента, серверной платформы и сопутствующих сервисных подсистем. Конечный пользователь работает с Программным продуктом с применением  мобильного приложения (далее Клиентское приложение).
## 1.1.	Клиентское приложение
Приложение реализовано для платформы Android, версии не ниже 4.1. Приложение размещено в Google Play Market. Первичный доступ к приложению (см. РИСУНОК 1 ДОСТУП К МОБИЛЬНОМУ ПРИЛОЖЕНИЮ) возможен по ссылке на сайте производителя, либо необходимо осуществить поиск в Play Market.

![Рисунко 1](https://github.com/smpb05/DSS-Retail/blob/project-screenshots/image.png)

Обновление приложения происходит стандартно с применением Google Play Market сервисов. 

Доступ к клиентскому приложению осуществляется через сервис ОЦП. В момент предоставления доступа формируется логин и пароль клиента. В качестве логина клиента используется номер телефона. Пароль генерируется автоматически, и система предлагает заменить пароль при первом входе. Пароль так же может быть изменен в настройках приложения по желанию клиента. При каждом запуске приложения, а также по истечению периода неактивности (1 час), система запрашивает пароль на вход (см. РИСУНОК 2 ОКНО ВХОДА В СИСТЕМУ).

![Рисунок 2](https://github.com/smpb05/DSS-Retail/blob/project-screenshots/AppLoginScreen.png)
 
Приложение регулярно проверяет доступность сервиса для данного клиента согласно его регистрации на ОЦП. В случае отказа от использования сервиса или отсутствия разрешения платформы ОЦП на использование сервиса клиентом, доступ к приложению блокируется. Возобновить подписку на использование продукта возможно в течение 3 (трех) месяцев без потери данных, сохраненных на сервере. По истечению 3-х месяцев регистрационная подписка пользователя полностью удаляется из системы и восстановление данных невозможно.
## 1.2. Серверная платформа
Серверная платформа состоит из Сервера базы данных, реализованного на базе Microsoft SQL Server и Серверного Приложения, реализованное на HTML5. Серверная приложение предназначено для администрирования прав доступа, структуры системы, справочников, метаданных и других сущностей Системы. 
Серверная платформа осуществляет задачи по хранению, обогащению и переработки данных. Хранение глобальных справочников, как-то товаров, контрагентов, дистрибуционных компаний, прайс листов и т.д.
## 1.3. Сервисные службы
### 1.3.1. Служба синхронизации
Задача служб синхронизации обеспечить копирование данных пользователей, хранящихся на стороне мобильного приложения. Это обеспечивает восстановление данных в случае замены, потери или поломки устройства. 
Система хранит и обогащает основные справочники системы, что позволяет клиенту не вводить данные о продуктах, производителях средних ценах закупки и т.д., а на регулярной основе получать и обновлять данные от серверной платформы.
Так же службы обеспечивают преемственность и передачу данных между мобильными пользователями в рамках одного аккаунта. 
Работа в мобильном приложении доступна в оффлайн режиме (без интернет соединения)  в течение 24 часов (суток) с 00:00 до 23:59.  Но для открытия и закрытия смены (рабочей смены продавца) требуется синхронизация (интернет подключение к ОЦП). 

**ВАЖНО!!!**
•	Восстановление данных возможно только до момента последней синхронизации с сервером ОЦП.  
•	При модели работы с мобильным приложением, когда есть Владелец и Продавец, Владелец сможет увидеть информацию по магазину, в том числе отчеты только на момент последней синхронизации.
Система отслеживает статус синхронизации, мобильное переложение рекомендует провести синхронизацию. Закрытие смены или передача смены возможна только после синхронизации устройств.
### 1.3.2. Ночные процедуры
Существует блок задач, которые система должна осуществлять для корректной работы сервисов, такие операции совершаются в моменты минимальной нагрузки.
# 2. Функциональность системы
## 2.1. Пользователи и подключения
В системе имеется два типа пользователей Владелец (В) и Продавец (П). Основным отличием пользователя В является возможность создавать пользователей типа П. Остальные операции для пользователей В и П одинаковы.
В системе для каждого аккаунта может быть один пользователь типа В и неограниченное количество пользователей типа П.
Работа в системе разбита на смены. Смена — это рабочий день одного пользователя системы. Смена должна быть открыта пользователем при начале работы, чтобы получить доступ к операциям системы. По окончанию работы пользователь обязан закрыть смену.
Одновременно в системе может быть открыта только одна смена для одного пользователя одного аккаунта. Два пользователя не могут одновременно открыть смену и проводить операции. Для передачи возможности проведения операций пользователь находящейся в открытой смене должен ее закрыть. В этом случае другой пользователь может открыть смену и проводить операции.
Система ежемесячно проверяет доступность сервиса со стороны ОЦП и разрешает пользователям подключаться в систему. Если в доступе отказано, то система блокирует подключение любых пользователей. Данные гарантированно хранятся в системе не менее 3-х месяцев, после чего удаляются без возможности восстановления.
## 2.2.	Отключение от сервиса и от системы
### 2.2.1.	Отключение от сервиса
Пользователь отключается от сервиса в случае, когда проверка доступности сервиса для абонента в ОЦП проходит неудачно. Например, использование сервиса не оплачено, или пользователь отключил сервис ОЦП. В этом случае при попытке входа в систему, система информирует о недоступности сервиса.
### 2.2.2.	Отключение от системы
Даже в случае доступности сервиса, в некоторых ситуациях доступ к системе пользователя блокируется. Система блокирует доступ в случае ввода неверного логина или пароля.
Так же пользователь типа В (владелец) может запретить вход в систему любому П пользователю, например, если сотрудник больше на работает на владельца торговой точки или по любой другой необходимости.
## 2.3.	Операции в системе (Перечень процессов, под-процессов и функций)
Рассмотрим перечень операций, которые пользователль может совершить в системе. Данный перечень функций доступен, когда пользователь подключился к системе (ввел корректный логин и пароль) и открыл текущую смену. Перечень операций указан на РИСУНОК 3 ОПЕРАЦИИ В СИСТЕМЕ. Данный перечень может модифицироваться. 
Для каждой операции указанно название операции или группы операций. Ниже указана краткая расшифровка операции. Операция представляет собой набор экранов и функций, необходимый для реализации определённого процесса, необходимого в деятельности торговой точки. В рамках операций имеется доступ ко всей необходимой для проведения данной операции информации, справочникам, спискам и т.д.
При проведении операции формируются внутренние документы, необходимые в дальнейшем для формирования отчетности для пользователя.
### 2.3.1.	Операция Продажа
Используется в случае продажи товара клиенту. Осуществляет подбор товара (см. РИСУНОК 4 ПРОДАЖА) по всем параметрам. Так же ввод товара может быть осуществлен с применением камеры телефона (синяя круглая кнопка в нижнем правом углу) или подключённого штрих-код сканера. 
Учитывается себестоимость продажи, а также цена продажи. Учитываются условия оплаты, в том числе, возможна продажа в кредит для поименованных (заведенных в системе согласно правилам) клиентов. 
При прохождении операции имеется доступ к карточкам товаров (см. РИСУНОК 5 НОВЫЙ ТОВАР) и клиентов с возможностью добавления нового товара и/или клиента. Это особенно важно в случае, когда пользователь начинает работу с системой. Пользователю не нужно выходить из операции для добавления или модификации информации в справочниках.
Оплата может быть проведена по окончанию операции (см. РИСУНОК 6 ПОЛУЧЕНИЕ ДЕНЕГ ОТ КЛИЕНТА), либо отложена в случае продажи в кредит. Информация о клиентских задолженностях хранится в системе. 
В ближайших версиях будет предложена интеграция с облачными сервисами ККМ (контрольно-кассовых машин). 
При проведении любой операции система предоставляет доступ к функциям в необходимом объеме. Цель – минимзировать количество переключений между окнами, упрощение процесса и минимизация непродуктивных кликов в системе. 

Для каждой операции существует соответсвующая страница отчетности. Отчетность построена по принципу drill-down (см. РИСУНОК 8 ОТЧЕТ ПО ПРОДАЖАМ), то есть когда каждая цифра может быть расшифрованна до конечной операции с указанием всех метаданных данной операции.
Все отчеты об операциях системы построены по вышеописанному принципу.
### 2.3.2.	Операции покупки
В операциях покупки сгрупированны операции по покупке товара и операциям с поставщиками. 
Функциональсть в разработке: Система хранит и постоянно обновляет базу данных поставщиков Республики Казахстан. То есть , пользователю достаточно внести БИН организации, остальные поля ситема подставит самостоятельно после следующей синхронизации (данная функция дорабатывается). 
К поставщику привязан контакт поставщика (например торговый представитель). По контакту храняться имя фамилия и контактный номер телефона. (см. Рисунок 9 Форма ввода поставщика)
По каждому поставщику ведутся все операции, в том числе учитывается задолженность, неоплаченные документы, товар выданный в консигнацию и т.д.
При подборе товара от поставщика предоставляется список товара, причем по каждому товару выводится информация об объеме последнего закупа и актуальных остатках данного товара на складе. То есть информация предоставляется на «одном экране», что позволяет принимать решения не перключаясь между разными экранами системы.
Данный экран так же удобно использовать для формирования заказа поставщику, поскольку вся информация предоставляется консолидированно.
При ввводе количества по позицием прихода, система предлагает использовать цены по последнй закупке, но цена закупа может быть отредактированна в карточке товара. Там же мождет быть указнна цена товара, которая сохранится в карточке товара.
Оплата поставщику может происходить разными спопсобами. Возможна оплата сразу наличными, банковcким переводом, либо товар учитывается как консигнационный. 
Так же операции по закупкам и оплатам можно посмотреть в блоке отчетности.
### 2.3.3.	Возвраты
В системе имеются операции возвратов. Возвраты деляться на возврат от клиента и возврат поставщику.
При возврате товара от клиента возврат возможно провести с указанием корректируемого документа, в этом случае количество, сумма и кореспондирующие оплаты по документу будут скорректированны. Цена товара при возврате равна цене продажи в документе.
В случае, если возврат проводится без указания коректируемого документа привязка будет осуществлена методом ФИФО соответственно в товарных записях и записях оплат. Цена применяется текущая, согласно карточки товара, но возможно ее изменить в момент проведения операции.
В случае проведения возвратов от поставщика действуют теже правила. При возврате поставщику с указанием документа по которому проходит возврат, стоимость товара равна цене продажи в примененном документе. Если документ не указывается , то операция проводится по средней текущей себестоимости.
На данный момент ограничений по проведению операций возврата не имеется.
### 2.3.4.	Инвентаризация
В системе предусмотрены операции инвентаризации. Инвентаризация может проводиться по любому количеству товарных позиций, от 1 до всех позиций с остатками. В случае излишков, товар приходуется на системного постащика «ПРИХОД». В случае недостач,  списание происходит на ситемного клиента «РАСХОД». Операции рекомендуется проводить по текущей себестоимости, но  при необходимости себестоимсть товара можно изменить в процессе проведения операции.
Посмотреть результате можно в соответствующем блоке отчетности.
### 2.3.5.	Работа с клиентами (CRM)
Функциональсть в разработке: В системе имется 3 операции по работе с клиентами.
#### 2.3.5.1.	Сообщить о задолженности.
Система позволяет сформировать сообщение одному или нескольким (всем) клиентам, имеющим текущую задолженность о необходимсоти погасить сумму задолженности. SMS рассылается за счет собственных средств Пользователя с его текущего телефонного номера.
#### 2.3.5.2.	Сообщить об акции
Система позволяет разослать информационное сообщение, включая ссылки на ресурсы (при необходимости), всем или группе клиентов.
#### 2.3.5.3.	Интеграция с телефонной книгой
Все номера клиентов, хранящиеся в системе, могут быть переданы в телефонную книгу пользователя, что позволит ему использовать другие методы взаимоотношений с клиентом, например, массовые рассылки, создание тематических групп в популярных мессенджерах (VIBER, What’s UP и т.д.), привлечение в социальные сети.
Это позволит значительно расширить возможности общения и привлечения клиентов к своим товарам и услугам.
## 2.4.	Отчетность
В блоке отчетности выводятся консолидированные данные в следующих разрезах:
* Оборот по кассе / Операции по кассе
* Оборот по реализации/ Доход от реализации
* Задолженности Поставщикам / Задолженности Покупателей
* Оборот по Товару/Остатки Товара

